{"version":3,"file":"app.js","names":["document","addEventListener","body","burgerBtn","querySelector","burgerMenu","closeBurgerMenuBtn","overlay","classList","add","remove","servicesList","items","querySelectorAll","clientWidth","itemsWidth","i","length","parseInt","servicesWrapper","style","cssText","concat","Vue","el","data","sectionInViewport","element","cnt","styleObject","isScroll","singleItemWidth","fullItemsWidth","persentItemWidth","Math","floor","maxPersentTransparent","mounted","options","root","rootMargin","threshold","observer","IntersectionObserver","handleIntersection","observe","$refs","sectionToTrack","onScroll","methods","entries","isIntersecting","event","window","y","deltaY","detail","wheelDelta","val","min","max","ctn","console","log","setTimeout","watch","newVal","oldVal","servicePopup","servicePopupClose","$","owlCarousel","loop","margin","nav","dots","drag","autoplay","responsiveClass","responsive","on","e","target","item","closest","title","find","text","descr","html","imgSrc","attr","css","addClass","overflow"],"sources":["app.js"],"sourcesContent":["\"use strict\";\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const body = document.body,\r\n    burgerBtn = document.querySelector(\".btn-burger\"),\r\n    burgerMenu = document.querySelector(\".header-info\"),\r\n    closeBurgerMenuBtn = burgerMenu.querySelector(\".header-btn--close\");\r\n  const overlay = document.querySelector(\".overlay_body\");\r\n  burgerBtn.addEventListener(\"click\", () => {\r\n    burgerMenu.classList.add(\"active\");\r\n  });\r\n  closeBurgerMenuBtn.addEventListener(\"click\", () => {\r\n    burgerMenu.classList.remove(\"active\");\r\n  });\r\n  //Все для автоскролла в секции услуги\r\n  const servicesList = document.querySelector(\".services-list\");\r\n  const items = servicesList.querySelectorAll(\".item\");\r\n  if (document.body.clientWidth > 1023) {\r\n    let itemsWidth = 0;\r\n    for (let i = 0; i < items.length; i++) {\r\n      itemsWidth += parseInt(items[i].clientWidth);\r\n    }\r\n\r\n    const servicesWrapper = document.querySelector(\".services-list--overflow\");\r\n    servicesWrapper.style.cssText = `width:${document.body.clientWidth}px; \r\n    min-width: ${document.body.clientWidth}px; overflow-x: hidden`;\r\n    new Vue({\r\n      el: \"#app_vue\",\r\n      data() {\r\n        return {\r\n          sectionInViewport: false,\r\n          element: document.querySelector(\".services-list\"),\r\n          cnt: 0,\r\n          styleObject: \"\",\r\n          isScroll: false,\r\n          singleItemWidth: itemsWidth / items.length,\r\n          fullItemsWidth: itemsWidth - items[0].clientWidth,\r\n          persentItemWidth: Math.floor(\r\n            ((items[0].clientWidth + 16) / (itemsWidth + 16 * items.length)) *\r\n              100 -\r\n              3\r\n          ),\r\n\r\n          maxPersentTransparent: 100,\r\n        };\r\n      },\r\n      mounted() {\r\n        const options = {\r\n          root: null, // Используем viewport как корневой элемент\r\n          rootMargin: \"0px\", // Может быть настроено для марджинов\r\n          threshold: 0.7, // Порог видимости (от 0 до 1)\r\n        };\r\n        const observer = new IntersectionObserver(\r\n          this.handleIntersection,\r\n          options\r\n        );\r\n        observer.observe(this.$refs.sectionToTrack);\r\n        document.body.clientWidth > 767\r\n          ? document.addEventListener(\"wheel\", this.onScroll)\r\n          : \"\";\r\n      },\r\n      methods: {\r\n        handleIntersection(entries) {\r\n          // Вызывается при изменении видимости\r\n          if (entries[0].isIntersecting) {\r\n            this.sectionInViewport = true;\r\n            // Секция находится в зоне видимости\r\n          } else {\r\n            this.sectionInViewport = false;\r\n            // Секция не находится в зоне видимости\r\n          }\r\n        },\r\n        onScroll(event) {\r\n          event = event || window.event;\r\n\r\n          let y = event.deltaY || event.detail || event.wheelDelta,\r\n            val = 0.1,\r\n            min = 0,\r\n            max = 100;\r\n          if (\r\n            y > 0 &&\r\n            this.sectionInViewport &&\r\n            -this.cnt < this.fullItemsWidth\r\n          ) {\r\n            this.cnt = this.cnt - this.singleItemWidth;\r\n            body.classList.add(\"horizontal\");\r\n            this.styleObject = \"transform: translate(\" + this.cnt + \"px)\";\r\n          }\r\n          if (\r\n            y < 0 &&\r\n            this.sectionInViewport &&\r\n            (this.ctn >= 0 || this.cnt != 0)\r\n          ) {\r\n            this.cnt = this.cnt + this.singleItemWidth;\r\n\r\n            console.log(\"up\");\r\n            this.styleObject = \"transform: translate(\" + this.cnt + \"px)\";\r\n          } else {\r\n            setTimeout(() => {\r\n              body.classList.remove(\"horizontal\");\r\n            }, 100);\r\n          }\r\n        },\r\n      },\r\n      watch: {\r\n        cnt: function (newVal, oldVal) {\r\n          newVal == 0 ? body.classList.remove(\"horizontal\") : \"\";\r\n          newVal == -190\r\n            ? body.classList.remove(\"horizontal\")\r\n            : body.classList.add(\"horizontal\");\r\n        },\r\n      },\r\n    });\r\n  } else {\r\n    servicesList.classList.add(\"owl-carousel\", \"owl-theme\");\r\n    const servicePopup = document.querySelector(\".service_popup\"),\r\n      servicePopupClose = servicePopup.querySelector(\".close_btn\");\r\n    $(\".services-list\").owlCarousel({\r\n      loop: true,\r\n      margin: 10,\r\n      nav: false,\r\n      dots: false,\r\n      drag: true,\r\n      autoplay: true,\r\n      responsiveClass: true,\r\n      responsive: {\r\n        0: {\r\n          items: 1.2,\r\n        },\r\n        600: {\r\n          items: 2.2,\r\n        },\r\n      },\r\n    });\r\n    $(\".owl-stage\").on(\"click\", \".owl-item>div\", function (e) {\r\n      let target = e.target;\r\n\r\n      let item = $(this).closest(\".item\");\r\n\r\n      let title = item.find(\"h2\").text();\r\n      let descr = item.find(\".item-descr\").html();\r\n      let imgSrc = item.find(\".img img\").attr(\"src\");\r\n\r\n      // Обновляем содержимое servicePopup\r\n      $(\".service_popup-title\").text(title);\r\n      $(\".service_popup-top\").css(\r\n        \"background\",\r\n        `url(${imgSrc}) center/cover no-repeat`\r\n      );\r\n      $(\".service_popup-body\").html(descr);\r\n\r\n      // Показываем servicePopup и overlay\r\n      $(\".service_popup\").addClass(\"active\");\r\n      $(\".overlay_body\").addClass(\"active\");\r\n\r\n      $(\"body\").css(\"overflow\", \"hidden\");\r\n    });\r\n\r\n    servicePopupClose.addEventListener(\"click\", () => {\r\n      servicePopup.classList.remove(\"active\");\r\n      overlay.classList.remove(\"active\");\r\n      body.style.overflow = \"\";\r\n    });\r\n  }\r\n});\r\n"],"mappings":"AAAA,YAAY;;AACZA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAClD,IAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAI;IACxBC,SAAS,GAAGH,QAAQ,CAACI,aAAa,CAAC,aAAa,CAAC;IACjDC,UAAU,GAAGL,QAAQ,CAACI,aAAa,CAAC,cAAc,CAAC;IACnDE,kBAAkB,GAAGD,UAAU,CAACD,aAAa,CAAC,oBAAoB,CAAC;EACrE,IAAMG,OAAO,GAAGP,QAAQ,CAACI,aAAa,CAAC,eAAe,CAAC;EACvDD,SAAS,CAACF,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACxCI,UAAU,CAACG,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;EACpC,CAAC,CAAC;EACFH,kBAAkB,CAACL,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACjDI,UAAU,CAACG,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;EACvC,CAAC,CAAC;EACF;EACA,IAAMC,YAAY,GAAGX,QAAQ,CAACI,aAAa,CAAC,gBAAgB,CAAC;EAC7D,IAAMQ,KAAK,GAAGD,YAAY,CAACE,gBAAgB,CAAC,OAAO,CAAC;EACpD,IAAIb,QAAQ,CAACE,IAAI,CAACY,WAAW,GAAG,IAAI,EAAE;IACpC,IAAIC,UAAU,GAAG,CAAC;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,KAAK,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;MACrCD,UAAU,IAAIG,QAAQ,CAACN,KAAK,CAACI,CAAC,CAAC,CAACF,WAAW,CAAC;IAC9C;IAEA,IAAMK,eAAe,GAAGnB,QAAQ,CAACI,aAAa,CAAC,0BAA0B,CAAC;IAC1Ee,eAAe,CAACC,KAAK,CAACC,OAAO,YAAAC,MAAA,CAAYtB,QAAQ,CAACE,IAAI,CAACY,WAAW,2BAAAQ,MAAA,CACrDtB,QAAQ,CAACE,IAAI,CAACY,WAAW,2BAAwB;IAC9D,IAAIS,GAAG,CAAC;MACNC,EAAE,EAAE,UAAU;MACdC,IAAI,WAAAA,KAAA,EAAG;QACL,OAAO;UACLC,iBAAiB,EAAE,KAAK;UACxBC,OAAO,EAAE3B,QAAQ,CAACI,aAAa,CAAC,gBAAgB,CAAC;UACjDwB,GAAG,EAAE,CAAC;UACNC,WAAW,EAAE,EAAE;UACfC,QAAQ,EAAE,KAAK;UACfC,eAAe,EAAEhB,UAAU,GAAGH,KAAK,CAACK,MAAM;UAC1Ce,cAAc,EAAEjB,UAAU,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACE,WAAW;UACjDmB,gBAAgB,EAAEC,IAAI,CAACC,KAAK,CACzB,CAACvB,KAAK,CAAC,CAAC,CAAC,CAACE,WAAW,GAAG,EAAE,KAAKC,UAAU,GAAG,EAAE,GAAGH,KAAK,CAACK,MAAM,CAAC,GAC7D,GAAG,GACH,CACJ,CAAC;UAEDmB,qBAAqB,EAAE;QACzB,CAAC;MACH,CAAC;MACDC,OAAO,WAAAA,QAAA,EAAG;QACR,IAAMC,OAAO,GAAG;UACdC,IAAI,EAAE,IAAI;UAAE;UACZC,UAAU,EAAE,KAAK;UAAE;UACnBC,SAAS,EAAE,GAAG,CAAE;QAClB,CAAC;;QACD,IAAMC,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,IAAI,CAACC,kBAAkB,EACvBN,OACF,CAAC;QACDI,QAAQ,CAACG,OAAO,CAAC,IAAI,CAACC,KAAK,CAACC,cAAc,CAAC;QAC3C/C,QAAQ,CAACE,IAAI,CAACY,WAAW,GAAG,GAAG,GAC3Bd,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC+C,QAAQ,CAAC,GACjD,EAAE;MACR,CAAC;MACDC,OAAO,EAAE;QACPL,kBAAkB,WAAAA,mBAACM,OAAO,EAAE;UAC1B;UACA,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,EAAE;YAC7B,IAAI,CAACzB,iBAAiB,GAAG,IAAI;YAC7B;UACF,CAAC,MAAM;YACL,IAAI,CAACA,iBAAiB,GAAG,KAAK;YAC9B;UACF;QACF,CAAC;QACDsB,QAAQ,WAAAA,SAACI,KAAK,EAAE;UACdA,KAAK,GAAGA,KAAK,IAAIC,MAAM,CAACD,KAAK;UAE7B,IAAIE,CAAC,GAAGF,KAAK,CAACG,MAAM,IAAIH,KAAK,CAACI,MAAM,IAAIJ,KAAK,CAACK,UAAU;YACtDC,GAAG,GAAG,GAAG;YACTC,GAAG,GAAG,CAAC;YACPC,GAAG,GAAG,GAAG;UACX,IACEN,CAAC,GAAG,CAAC,IACL,IAAI,CAAC5B,iBAAiB,IACtB,CAAC,IAAI,CAACE,GAAG,GAAG,IAAI,CAACI,cAAc,EAC/B;YACA,IAAI,CAACJ,GAAG,GAAG,IAAI,CAACA,GAAG,GAAG,IAAI,CAACG,eAAe;YAC1C7B,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;YAChC,IAAI,CAACoB,WAAW,GAAG,uBAAuB,GAAG,IAAI,CAACD,GAAG,GAAG,KAAK;UAC/D;UACA,IACE0B,CAAC,GAAG,CAAC,IACL,IAAI,CAAC5B,iBAAiB,KACrB,IAAI,CAACmC,GAAG,IAAI,CAAC,IAAI,IAAI,CAACjC,GAAG,IAAI,CAAC,CAAC,EAChC;YACA,IAAI,CAACA,GAAG,GAAG,IAAI,CAACA,GAAG,GAAG,IAAI,CAACG,eAAe;YAE1C+B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;YACjB,IAAI,CAAClC,WAAW,GAAG,uBAAuB,GAAG,IAAI,CAACD,GAAG,GAAG,KAAK;UAC/D,CAAC,MAAM;YACLoC,UAAU,CAAC,YAAM;cACf9D,IAAI,CAACM,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;YACrC,CAAC,EAAE,GAAG,CAAC;UACT;QACF;MACF,CAAC;MACDuD,KAAK,EAAE;QACLrC,GAAG,EAAE,SAAAA,IAAUsC,MAAM,EAAEC,MAAM,EAAE;UAC7BD,MAAM,IAAI,CAAC,GAAGhE,IAAI,CAACM,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE;UACtDwD,MAAM,IAAI,CAAC,GAAG,GACVhE,IAAI,CAACM,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC,GACnCR,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;QACtC;MACF;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACLE,YAAY,CAACH,SAAS,CAACC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;IACvD,IAAM2D,YAAY,GAAGpE,QAAQ,CAACI,aAAa,CAAC,gBAAgB,CAAC;MAC3DiE,iBAAiB,GAAGD,YAAY,CAAChE,aAAa,CAAC,YAAY,CAAC;IAC9DkE,CAAC,CAAC,gBAAgB,CAAC,CAACC,WAAW,CAAC;MAC9BC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,EAAE;MACVC,GAAG,EAAE,KAAK;MACVC,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE,IAAI;MACdC,eAAe,EAAE,IAAI;MACrBC,UAAU,EAAE;QACV,CAAC,EAAE;UACDnE,KAAK,EAAE;QACT,CAAC;QACD,GAAG,EAAE;UACHA,KAAK,EAAE;QACT;MACF;IACF,CAAC,CAAC;IACF0D,CAAC,CAAC,YAAY,CAAC,CAACU,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,UAAUC,CAAC,EAAE;MACxD,IAAIC,MAAM,GAAGD,CAAC,CAACC,MAAM;MAErB,IAAIC,IAAI,GAAGb,CAAC,CAAC,IAAI,CAAC,CAACc,OAAO,CAAC,OAAO,CAAC;MAEnC,IAAIC,KAAK,GAAGF,IAAI,CAACG,IAAI,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,CAAC;MAClC,IAAIC,KAAK,GAAGL,IAAI,CAACG,IAAI,CAAC,aAAa,CAAC,CAACG,IAAI,CAAC,CAAC;MAC3C,IAAIC,MAAM,GAAGP,IAAI,CAACG,IAAI,CAAC,UAAU,CAAC,CAACK,IAAI,CAAC,KAAK,CAAC;;MAE9C;MACArB,CAAC,CAAC,sBAAsB,CAAC,CAACiB,IAAI,CAACF,KAAK,CAAC;MACrCf,CAAC,CAAC,oBAAoB,CAAC,CAACsB,GAAG,CACzB,YAAY,SAAAtE,MAAA,CACLoE,MAAM,6BACf,CAAC;MACDpB,CAAC,CAAC,qBAAqB,CAAC,CAACmB,IAAI,CAACD,KAAK,CAAC;;MAEpC;MACAlB,CAAC,CAAC,gBAAgB,CAAC,CAACuB,QAAQ,CAAC,QAAQ,CAAC;MACtCvB,CAAC,CAAC,eAAe,CAAC,CAACuB,QAAQ,CAAC,QAAQ,CAAC;MAErCvB,CAAC,CAAC,MAAM,CAAC,CAACsB,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;IACrC,CAAC,CAAC;IAEFvB,iBAAiB,CAACpE,gBAAgB,CAAC,OAAO,EAAE,YAAM;MAChDmE,YAAY,CAAC5D,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;MACvCH,OAAO,CAACC,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;MAClCR,IAAI,CAACkB,KAAK,CAAC0E,QAAQ,GAAG,EAAE;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC,CAAC"}