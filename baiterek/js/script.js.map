{"version":3,"file":"script.js","names":["document","addEventListener","firstSession","gsap","registerPlugin","ScrollTrigger","fromTo","opacity","backgroundPosition","ease","scrollTrigger","trigger","start","end","scrub","items","querySelectorAll","tl","timeline","pin","concat","length","forEach","item","index","y","autoAlpha","duration","sliderList","querySelector","itemsSlider","totalItemsWidth","Array","from","reduce","total","offsetWidth","to","x","animateItems","animateItem"],"sources":["script.js"],"sourcesContent":["'use strict';\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    let firstSession = true;\r\n    //Если анимация еще не работала то запускаем все анимашки\r\n    if(firstSession){\r\n        gsap.registerPlugin(ScrollTrigger);\r\n\r\n        // Анимация параллакса для фоновой картинки\r\n        gsap.fromTo('.tabs_block',\r\n            { opacity: 0 },  // Начальное состояние: невидимо\r\n            {\r\n                opacity: 1,  // Конечное состояние: видно\r\n                backgroundPosition: 'left 50%', // Двигаем фон для параллакса\r\n                ease: 'none',\r\n                scrollTrigger: {\r\n                    trigger: '.tabs_block', // Секция, где начинается анимация\r\n                    start: 'top bottom', // Начало анимации\r\n                    end: 'bottom top', // Конец анимации\r\n                    scrub: true, // Плавная синхронизация со скроллом\r\n                }\r\n            }\r\n        );\r\n\r\n        // Анимация появления элементов .tabs_item\r\n        let items = document.querySelectorAll('.tabs_item');\r\n        let tl = gsap.timeline({\r\n            scrollTrigger: {\r\n                trigger: '.tabs_block',\r\n                pin: true, // фиксируем секцию на месте\r\n                start: 'top top', // когда верхняя часть секции касается верхней части окна\r\n                end: `+=${items.length * 500}`, // длительность скролла зависит от количества элементов\r\n                scrub: 1, // плавное скольжение\r\n            }\r\n        });\r\n\r\n        items.forEach((item, index) => {\r\n            tl.fromTo(item,\r\n                { y: 1000, autoAlpha: 0 }, // изначальное положение\r\n                { y: 0, autoAlpha: 1, duration: 0.5 }, // анимация перемещения вверх и появления\r\n                index * 0.5 // задержка между элементами\r\n            );\r\n        });\r\n\r\n        // Горизонтальная прокрутка элементов в slider_list\r\n        let sliderList = document.querySelector('.slider_list');\r\n        let itemsSlider = document.querySelectorAll('.slider_list .item');\r\n        let totalItemsWidth = Array.from(itemsSlider).reduce((total, item) => {\r\n            return total + item.offsetWidth;\r\n        }, 0) + (items.length - 1) * 20;\r\n\r\n        gsap.to(sliderList, {\r\n            x: () => `-${totalItemsWidth - sliderList.offsetWidth}px`, // Прокручиваем до конца списка\r\n            ease: 'none',\r\n            scrollTrigger: {\r\n                trigger: '.slider_block',\r\n                pin: true, // фиксируем блок\r\n                start: 'top top', // начало скроллинга\r\n                end: () => `+=${totalItemsWidth}`, // конец анимации после прокрутки всех элементов\r\n                scrub: 1\r\n            }\r\n        });\r\n\r\n        // Анимация появления элементов с классом .animate\r\n        let animateItems = document.querySelectorAll('.animate');\r\n        animateItems.forEach((animateItem) => {\r\n            gsap.fromTo(animateItem,\r\n                { y: 100, autoAlpha: 0 },  // Начальное состояние: внизу и невидимо\r\n                {\r\n                    y: 0, autoAlpha: 1, duration: 1,  // Конечное состояние: видимо и на месте\r\n                    scrollTrigger: {\r\n                        trigger: animateItem,\r\n                        start: 'top 80%', // Запуск анимации, когда элемент почти виден\r\n                        end: 'bottom 20%', // Когда элемент почти выйдет из экрана\r\n                        scrub: 1, // Плавная синхронизация с прокруткой\r\n                    }\r\n                }\r\n            );\r\n        });\r\n    }else {\r\n        //Если анимация уже была просмотренна пользователем то делаем стандартный функционал\r\n\r\n    }\r\n\r\n});\r\n"],"mappings":"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","ignoreList":[]}